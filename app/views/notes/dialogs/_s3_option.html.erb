<%# S3 Upload Option Component
    Parameters:
    - mode: "upload" (default) or "reupload"
    - description: optional custom description text
%>
<% mode ||= "upload" %>
<%
  label = mode == "reupload" ? "Download and re-upload to AWS S3" : "Upload to AWS S3"
  description ||= mode == "reupload" ?
    "Image will be downloaded and uploaded to your S3, using your URL instead of the original" :
    "Image will be uploaded to S3 and the URL will be used instead of local path"
%>

<div class="hidden" data-controller="s3-option">
  <label class="flex items-center gap-2 text-sm cursor-pointer">
    <input
      type="checkbox"
      data-s3-option-target="checkbox"
      data-action="change->s3-option#onCheckboxChange"
      class="rounded border-[var(--theme-border)] text-[var(--theme-accent)] focus:ring-[var(--theme-accent)]"
    >
    <span><%= label %></span>
  </label>
  <p class="text-xs text-[var(--theme-text-muted)] mt-1 ml-6">
    <%= description %>
  </p>
  <!-- Resize option (only when S3 is checked) -->
  <div class="hidden mt-2 ml-6" data-s3-option-target="resizeOption">
    <label class="flex items-center gap-2 text-sm">
      <span>Resize:</span>
      <select
        data-s3-option-target="resizeSelect"
        class="px-2 py-1 text-sm border border-[var(--theme-border)] rounded bg-[var(--theme-bg-primary)] text-[var(--theme-text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--theme-accent)]"
      >
        <option value="">None (original size)</option>
        <option value="0.25">1/4 size (25%)</option>
        <option value="0.5" selected>1/2 size (50%)</option>
        <option value="0.67">2/3 size (67%)</option>
      </select>
      <span class="text-[var(--theme-text-muted)]">+ compress</span>
    </label>
  </div>
</div>
