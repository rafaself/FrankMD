<div class="h-screen w-full flex flex-col bg-[var(--theme-bg-primary)] text-[var(--theme-text-primary)]"
     data-controller="app"
     data-app-tree-value="<%= @tree.to_json %>"
     data-app-initial-path-value="<%= @initial_path.to_json %>"
     data-app-initial-note-value="<%= (@initial_note || {}).to_json %>"
     data-app-config-value="<%= @config.to_json %>">

  <%= render "notes/header" %>

  <!-- Main Content -->
  <div class="flex-1 flex overflow-hidden">
    <%= render "notes/sidebar" %>
    <%= render "notes/editor_panel" %>
    <%= render "notes/preview_panel" %>
  </div>

  <!-- File Operations (context menu + dialogs) -->
  <%= render "notes/dialogs/file_operations" %>

  <!-- Dialogs -->
  <%= render "notes/dialogs/dialogs" %>
</div>
